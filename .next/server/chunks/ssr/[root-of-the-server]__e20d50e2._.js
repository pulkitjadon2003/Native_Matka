module.exports=[75030,(a,b,c)=>{"use strict";b.exports=a.r(88675).vendored["react-ssr"].ReactServerDOMTurbopackClient},60385,(a,b,c)=>{"use strict";b.exports=a.r(88675).vendored.contexts.HooksClientContext},45292,(a,b,c)=>{"use strict";b.exports=a.r(88675).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},88675,(a,b,c)=>{"use strict";b.exports=a.r(18622)},61114,(a,b,c)=>{"use strict";b.exports=a.r(88675).vendored["react-ssr"].ReactJsxRuntime},96246,(a,b,c)=>{"use strict";b.exports=a.r(88675).vendored["react-ssr"].React},68388,(a,b,c)=>{"use strict";b.exports=a.r(88675).vendored.contexts.AppRouterContext},25949,(a,b,c)=>{"use strict";b.exports=a.r(88675).vendored["react-ssr"].ReactDOM},42202,a=>{"use strict";var b=a.i(61114),c=a.i(96246);a.i(25949);var d=a.i(27143),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(68992),h=a.i(85723);let i=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-white"),j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,h.cn)(i(),a),...c}));j.displayName=f.displayName,a.s(["Label",()=>j],42202)},89300,a=>{"use strict";var b=a.i(61114),c=a.i(96246),d=a.i(27143),e=a.i(68992),f=a.i(85723);let g=(0,e.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-error text-white hover:bg-error/90",outline:"border border-border-dark bg-background hover:bg-white/5 hover:text-white",secondary:"bg-white/5 text-white hover:bg-white/10",ghost:"hover:bg-white/5 hover:text-white text-text-secondary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=c.forwardRef(({className:a,variant:c,size:e,asChild:h=!1,...i},j)=>{let k=h?d.Slot:"button";return(0,b.jsx)(k,{className:(0,f.cn)(g({variant:c,size:e,className:a})),ref:j,...i})});h.displayName="Button",a.s(["Button",()=>h])},13383,a=>{"use strict";var b=a.i(61114),c=a.i(96246),d=a.i(85723);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-border-dark bg-surface-dark px-3 py-2 text-sm text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-text-secondary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},49998,a=>{"use strict";var b=a.i(61114),c=a.i(96246),d=a.i(85723);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm text-left",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b border-border-dark",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t border-border-dark bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b border-border-dark transition-colors hover:bg-white/5 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-text-secondary [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},79057,a=>{"use strict";var b=a.i(61114),c=a.i(96246),d=a.i(62961),e=a.i(48734),f=a.i(89300),g=a.i(13383),h=a.i(49998),i=a.i(52539),j=a.i(42202),k=a.i(90220);function l({isOpen:a,onClose:d,user:e,onSuccess:h}){let[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("credit"),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),v=async a=>{a.preventDefault(),u(""),s(!0);try{let a=localStorage.getItem("token"),b=await fetch(`/api/users/${e?._id}/wallet`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({amount:Number(l),type:n,description:p})}),c=await b.json();if(!b.ok)throw Error(c.message||"Failed to update wallet");h(),d(),m(""),q(""),o("credit")}catch(a){u(a.message)}finally{s(!1)}};return e?(0,b.jsx)(i.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(i.DialogContent,{className:"bg-surface-dark border-border-dark text-white sm:max-w-md",children:[(0,b.jsx)(i.DialogHeader,{children:(0,b.jsx)(i.DialogTitle,{children:"Manage Wallet"})}),(0,b.jsxs)("div",{className:"mb-4 p-3 bg-background-dark rounded-lg flex justify-between items-center border border-border-dark",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-text-secondary",children:"User"}),(0,b.jsx)("p",{className:"font-semibold",children:e.name}),(0,b.jsx)("p",{className:"text-xs text-text-secondary font-mono",children:e.mobile})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-xs text-text-secondary",children:"Current Balance"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-primary",children:["₹ ",e.wallet_balance]})]})]}),(0,b.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{children:"Transaction Type"}),(0,b.jsxs)(k.RadioGroup,{defaultValue:"credit",className:"flex gap-4",onValueChange:a=>o(a),children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 border border-border-dark rounded-lg p-3 flex-1 cursor-pointer hover:bg-white/5 transition-colors has-[:checked]:border-success/50 has-[:checked]:bg-success/5",children:[(0,b.jsx)(k.RadioGroupItem,{value:"credit",id:"credit",className:"text-success border-success"}),(0,b.jsx)(j.Label,{htmlFor:"credit",className:"cursor-pointer flex-1 text-success",children:"Add Money"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 border border-border-dark rounded-lg p-3 flex-1 cursor-pointer hover:bg-white/5 transition-colors has-[:checked]:border-error/50 has-[:checked]:bg-error/5",children:[(0,b.jsx)(k.RadioGroupItem,{value:"debit",id:"debit",className:"text-error border-error"}),(0,b.jsx)(j.Label,{htmlFor:"debit",className:"cursor-pointer flex-1 text-error",children:"Deduct Money"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"amount",children:"Amount (₹)"}),(0,b.jsx)(g.Input,{id:"amount",type:"number",placeholder:"Enter amount",value:l,onChange:a=>m(a.target.value),className:"bg-background-dark border-border-dark focus:border-primary text-lg font-mono",required:!0,min:"1"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"description",children:"Description (Optional)"}),(0,b.jsx)(g.Input,{id:"description",placeholder:"Reason for adjustment",value:p,onChange:a=>q(a.target.value),className:"bg-background-dark border-border-dark focus:border-primary"})]}),t&&(0,b.jsx)("p",{className:"text-sm text-error bg-error/10 p-2 rounded border border-error/20",children:t}),(0,b.jsxs)(i.DialogFooter,{className:"mt-4",children:[(0,b.jsx)(f.Button,{type:"button",variant:"ghost",onClick:d,className:"hover:bg-white/10 hover:text-white",children:"Cancel"}),(0,b.jsx)(f.Button,{type:"submit",className:"credit"===n?"bg-success hover:bg-success/90 text-black font-bold":"bg-error hover:bg-error/90 text-white font-bold",disabled:r,children:r?"Processing...":"credit"===n?"Add Funds":"Deduct Funds"})]})]})]})}):null}var m=a.i(85503);function n(){(0,m.useAuth)(!0);let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(1),[r,s]=(0,c.useState)(1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{x()},[p,n]);let x=async()=>{k(!0);try{let a=new URLSearchParams({page:p.toString(),limit:"10",query:n}),b=localStorage.getItem("token"),c=await fetch(`/api/users?${a}`,{headers:{Authorization:`Bearer ${b}`}}),d=await c.json();d.success&&(i(d.data),s(d.pagination.totalPages))}catch(a){console.error("Error fetching users:",a)}finally{k(!1)}},y=async(b,c)=>{if(confirm(`Are you sure you want to ${c?"block":"activate"} this user?`))try{let d=localStorage.getItem("token"),e=await fetch(`/api/users/${b}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({is_active:!c})}),f=await e.json();f.success?i(a.map(a=>a._id===b?{...a,is_active:!c}:a)):alert(f.message||"Failed to update status")}catch(a){console.error("Error updating status:",a),alert("An error occurred")}};return(0,b.jsxs)("div",{className:"flex h-screen w-full overflow-hidden bg-background-dark text-white font-sans",children:[(0,b.jsx)(d.Sidebar,{}),(0,b.jsxs)("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-20",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,b.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),(0,b.jsx)("p",{className:"text-text-secondary",children:"Manage registered users, balances, and status."})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4 bg-surface-dark p-4 rounded-xl border border-border-dark",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 material-symbols-outlined text-text-secondary text-[20px]",children:"search"}),(0,b.jsx)(g.Input,{placeholder:"Search by name or mobile...",className:"pl-10 bg-background-dark border-border-dark focus:border-primary",value:n,onChange:a=>{o(a.target.value),q(1)}})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-sm text-text-secondary",children:["Page ",p," of ",r]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(f.Button,{variant:"outline",size:"icon",disabled:p<=1,onClick:()=>q(a=>a-1),className:"h-8 w-8",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"chevron_left"})}),(0,b.jsx)(f.Button,{variant:"outline",size:"icon",disabled:p>=r,onClick:()=>q(a=>a+1),className:"h-8 w-8",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"chevron_right"})})]})]})]}),(0,b.jsx)("div",{className:"rounded-xl border border-border-dark bg-surface-dark overflow-hidden",children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{className:"bg-[#1c1a11]",children:(0,b.jsxs)(h.TableRow,{className:"hover:bg-transparent border-border-dark",children:[(0,b.jsx)(h.TableHead,{className:"font-bold text-white",children:"User Info"}),(0,b.jsx)(h.TableHead,{className:"font-bold text-white",children:"Mobile"}),(0,b.jsx)(h.TableHead,{className:"font-bold text-white",children:"Wallet Balance"}),(0,b.jsx)(h.TableHead,{className:"font-bold text-white text-center",children:"Status"}),(0,b.jsx)(h.TableHead,{className:"font-bold text-white text-right",children:"Joined"}),(0,b.jsx)(h.TableHead,{className:"font-bold text-white text-right",children:"Actions"})]})}),(0,b.jsx)(h.TableBody,{children:j?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:6,className:"text-center py-12 text-text-secondary",children:(0,b.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,b.jsx)("span",{className:"animate-spin material-symbols-outlined text-primary",children:"progress_activity"}),"Loading users..."]})})}):0===a.length?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:6,className:"text-center py-12 text-text-secondary",children:"No users found matching your search."})}):a.map(a=>(0,b.jsxs)(h.TableRow,{className:"group hover:bg-white/5 border-border-dark",children:[(0,b.jsx)(h.TableCell,{className:"font-medium text-white",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xs uppercase border border-primary/20",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.name}),a.is_verified&&(0,b.jsxs)("p",{className:"text-[10px] text-success flex items-center gap-0.5",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-[10px]",children:"verified"})," Verified"]})]})]})}),(0,b.jsx)(h.TableCell,{className:"text-text-secondary font-mono",children:a.mobile}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("span",{className:"font-bold text-primary",children:["₹ ",a.wallet_balance]})}),(0,b.jsx)(h.TableCell,{className:"text-center",children:(0,b.jsxs)("button",{onClick:()=>y(a._id,a.is_active),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border transition-all ${a.is_active?"bg-success/10 text-success border-success/20 hover:bg-success/20":"bg-error/10 text-error border-error/20 hover:bg-error/20"}`,title:"Click to toggle status",children:[(0,b.jsx)("span",{className:`size-1.5 rounded-full ${a.is_active?"bg-success":"bg-error"}`}),a.is_active?"Active":"Blocked"]})}),(0,b.jsx)(h.TableCell,{className:"text-right text-text-secondary text-xs",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)(h.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-success hover:text-success hover:bg-success/10",title:"Add Funds",onClick:()=>{u(a),w(!0)},children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[20px]",children:"account_balance_wallet"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary hover:text-primary hover:bg-primary/10",title:"Edit User",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"edit"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-text-secondary hover:text-white hover:bg-white/10",title:"View History",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"history"})})]})})]},a._id))})]})})]})}),(0,b.jsx)(l,{isOpen:v,onClose:()=>w(!1),user:t,onSuccess:x})]})]})}a.s(["default",()=>n],79057)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e20d50e2._.js.map